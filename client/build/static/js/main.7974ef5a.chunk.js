(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(e,t,n){},59:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),r=n(50),s=n.n(r),i=(n(59),n(48),n(33)),l=n(5),o=n(10),j=n(2);function b(){var e=localStorage.getItem("token"),t=Object(l.d)(),n=Object(i.a)();return Object(j.jsx)("nav",{children:Object(j.jsxs)("div",{className:"nav-wrapper",children:[Object(j.jsx)(o.b,{to:"/",className:"brand-logo left",children:"Quote APP"}),Object(j.jsx)("ul",{id:"nav-mobile",className:"right",children:e?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/profile",children:"Profile"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/create",children:"Create"})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{onClick:function(){localStorage.removeItem("token"),n.clearStore().then((function(){n.resetStore(),t("/login")}))},className:"red btn",children:"Logout"})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/login",children:"Login"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/signup",children:"Sign Up"})})]})})]})})}var d,u,h,O,m,g,x=n(13),p=n(68),f=n(22),N=n(73),v=Object(N.a)(d||(d=Object(f.a)(["\nmutation createUser($userNew: UserInput!) {\n    user:signupUser(userNew: $userNew){\n      firstName\n    }\n  }\n"]))),y=Object(N.a)(u||(u=Object(f.a)(["\nmutation signinUser($userSignin: UserSigninInput!) {\n    user:signinUser(userSignin: $userSignin){\n      token\n    }\n  }\n"]))),S=Object(N.a)(h||(h=Object(f.a)(["\nmutation createQuote($name:String!){\n    quote:createQuote(name:$name)\n    \n  }\n"]))),q=Object(N.a)(O||(O=Object(f.a)(["\nquery getAllQuotes{\n    quotes{\n      name\n      by  {\n        _id\n        firstName\n      }\n    }\n  }\n"]))),w=Object(N.a)(m||(m=Object(f.a)(["\n    query getMyProfile{\n        user:myprofile{\n            firstName\n            lastName\n            email\n            quotes{\n                name\n            }\n        }\n    }\n"]))),C=Object(N.a)(g||(g=Object(f.a)(["\nquery getUserById($userid:ID!) {\n    user(_id:$userid){\n      _id\n      firstName\n      lastName\n      email\n      quotes {\n        name\n      }\n    }\n  }\n"])));function L(){var e=Object(c.useState)(""),t=Object(x.a)(e,2),n=t[0],a=t[1],r=Object(p.a)(S,{refetchQueries:[q,"getAllQuotes","getMyProfile"]}),s=Object(x.a)(r,2),i=s[0],l=s[1],o=l.data,b=l.loading,d=l.error;return b?Object(j.jsx)("h1",{children:"Loading...."}):(d&&console.log(d.message),o&&console.log(o),Object(j.jsxs)("div",{className:"container my-container",children:[d&&Object(j.jsx)("div",{className:"red card-panel",children:d.message}),o&&Object(j.jsxs)("div",{className:"green card-panel",children:[o.quote," "]}),Object(j.jsx)("h5",{children:"Create Quote"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(n),i({variables:{name:n}})},children:[Object(j.jsx)("input",{type:"text",vlaue:n,onChange:function(e){return a(e.target.value)},placeholder:"write Quote"}),Object(j.jsx)("button",{type:"submit",className:"btn green",children:"Create"})]})]}))}var k=n(26),F=n(28);function I(){var e=Object(l.d)(),t=Object(c.useState)({}),n=Object(x.a)(t,2),a=n[0],r=n[1],s=Object(p.a)(y),i=Object(x.a)(s,2),b=i[0],d=i[1],u=d.data,h=d.loading,O=d.error,m=function(e){r(Object(F.a)(Object(F.a)({},a),{},Object(k.a)({},e.target.name,e.target.value)))};return h?Object(j.jsx)("h1",{children:"Loading...."}):(u&&(localStorage.setItem("token",u.user.token),e("/")),Object(j.jsxs)("div",{className:"container my-container",children:[O&&Object(j.jsx)("div",{className:"red card-panel",children:O.message}),Object(j.jsx)("h5",{children:"Login"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(a),b({variables:{userSignin:a}})},children:[Object(j.jsx)("input",{type:"email",placeholder:"email",name:"email",onChange:m,required:!0}),Object(j.jsx)("input",{type:"password",name:"password",placeholder:"password",onChange:m,required:!0}),Object(j.jsx)(o.b,{to:"/signup",children:Object(j.jsx)("p",{children:"Don't have an account ? "})}),Object(j.jsx)("button",{type:"submit",className:"btn 673ab7 deep-purple",children:"Login"})]})]}))}var Q=n(75);function U(){var e=Object(Q.a)(w),t=e.loading,n=e.error,c=e.data,a=Object(l.d)();return localStorage.getItem("token")?t?Object(j.jsx)("h1",{children:"Loading...."}):(n&&console.log(n.message),console.log(c),Object(j.jsxs)("div",{className:"container my-container",children:[Object(j.jsx)("h5",{children:"Profile"}),Object(j.jsxs)("div",{className:"center-align",children:[Object(j.jsx)("img",{className:"circle",style:{border:"2px solid"},src:"https://robohash.org/".concat(c.user.firstName,".png?size=200x200"),alt:"pic"}),Object(j.jsxs)("h5",{children:[c.user.firstName," ",c.user.lastName]}),Object(j.jsxs)("h6",{children:["Email - ",c.user.email]})]}),Object(j.jsx)("h3",{children:"Your Quotes"}),c.user.quotes.map((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("blockquote",{children:Object(j.jsx)("h6",{children:e.name})})})}))]})):(a("/login"),Object(j.jsx)("h1",{children:"Unauthorized"}))}function P(){var e=Object(c.useState)({}),t=Object(x.a)(e,2),n=t[0],a=t[1],r=Object(p.a)(v),s=Object(x.a)(r,2),i=s[0],l=s[1],b=l.data,d=l.loading,u=l.error,h=function(e){a(Object(F.a)(Object(F.a)({},n),{},Object(k.a)({},e.target.name,e.target.value)))};return d?Object(j.jsx)("h1",{children:"Loading...."}):(u&&console.log(u.message),Object(j.jsxs)("div",{className:"container my-container",children:[u&&Object(j.jsx)("div",{className:"red card-panel",children:u.message}),b&&b.user&&Object(j.jsxs)("div",{className:"green card-panel",children:[b.user.firstName," is SignedUp. You can login Now"]}),Object(j.jsx)("h5",{children:"Signup"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(n),i({variables:{userNew:n}})},children:[Object(j.jsx)("input",{type:"text",placeholder:"First Name",name:"firstName",onChange:h,required:!0}),Object(j.jsx)("input",{type:"text",placeholder:"Last Name",name:"lastName",onChange:h,required:!0}),Object(j.jsx)("input",{type:"email",placeholder:"email",name:"email",onChange:h,required:!0}),Object(j.jsx)("input",{type:"password",name:"password",placeholder:"password",onChange:h,required:!0}),Object(j.jsx)(o.b,{to:"/login",children:Object(j.jsx)("p",{children:"Already have an account ? "})}),Object(j.jsx)("button",{type:"submit",className:"btn 673ab7 deep-purple",children:"Submit"})]})]}))}function D(){var e=Object(Q.a)(q),t=e.loading,n=e.error,c=e.data;return t?Object(j.jsx)("h1",{children:"Loading...."}):(n&&console.log(n.message),Object(j.jsxs)("div",{className:"container my-container",children:[Object(j.jsx)("h5",{children:"List of Quotes"}),c.quotes.map((function(e,t){return Object(j.jsxs)("blockquote",{children:[Object(j.jsx)("h6",{children:e.name}),Object(j.jsx)(o.b,{to:"/profile/".concat(e.by._id),children:Object(j.jsx)("p",{className:"right-align",children:e.by.firstName})})]},t)}))]}))}function $(){var e=Object(l.e)().userid,t=Object(Q.a)(C,{variables:{userid:e}}),n=t.loading,c=t.error,a=t.data;return n?Object(j.jsx)("h1",{children:"Loading...."}):(c&&console.log(c.message),console.log(a),Object(j.jsxs)("div",{className:"container my-container",children:[Object(j.jsx)("h5",{children:"Profile"}),Object(j.jsxs)("div",{className:"center-align",children:[Object(j.jsx)("img",{className:"circle",style:{border:"2px solid"},src:"https://robohash.org/".concat(a.user.firstName,".png?size=200x200"),alt:"pic"}),Object(j.jsxs)("h5",{children:[a.user.firstName," ",a.user.lastName]}),Object(j.jsxs)("h6",{children:["Email - ",a.user.email]})]}),Object(j.jsx)("h3",{children:"Your Quotes"}),a.user.quotes.map((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("blockquote",{children:Object(j.jsx)("h6",{children:e.name})})})}))]}))}function A(){return Object(j.jsxs)("div",{className:"center",children:[Object(j.jsx)("h2",{children:"Not Found"}),Object(j.jsx)("iframe",{src:"https://giphy.com/embed/SDUiharA58JhGCwDqP",width:"480",height:"480",frameBorder:"0",class:"giphy-embed",allowFullScreen:!0})]})}var z=[{path:"/",element:Object(j.jsx)(D,{})},{path:"/create",element:Object(j.jsx)(L,{})},{path:"/login",element:Object(j.jsx)(I,{})},{path:"/signup",element:Object(j.jsx)(P,{})},{path:"/profile",element:Object(j.jsx)(U,{})},{path:"/profile/:userid",element:Object(j.jsx)($,{})},{path:"*",element:Object(j.jsx)(A,{})}];var B=function(){var e=Object(l.g)(z);return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(b,{}),e]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},E=n(72),J=n(74),M=n(71),Y=new E.a({uri:"/graphql",cache:new J.a,headers:{authorization:localStorage.getItem("token")||""}});s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(M.a,{client:Y,children:Object(j.jsx)(B,{})})})}),document.getElementById("root")),_()}},[[62,1,2]]]);
//# sourceMappingURL=main.7974ef5a.chunk.js.map